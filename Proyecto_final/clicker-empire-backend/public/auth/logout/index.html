<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/svg+xml" href="/favicon.png">
    <meta name="generator" content="Astro v5.7.2"><!-- <meta name="csrf-token" content="{{ csrf_token() }}"> -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <title>Clicker Empire</title>
    <link rel="stylesheet" href="/_astro/index.DzAUWr4f.css">
</head>


<body class="min-h-screen bg-gray-900 text-white flex flex-col">
<nav id="navbar" class="navbar">
    <div class="navbar__container">
        <div class="navbar__content">
            <div class="navbar__logo-container"><a href="/" class="navbar__logo-link"> <img
                src="/_astro/logo.Csvx4ZJd_Zf88Qy.webp" alt="Logo" width="256" height="256" loading="lazy"
                decoding="async" class="navbar__logo"> </a></div> <!-- Menú Hamburguesa -->
            <button
                id="hamburgerButton" class="navbar__hamburger" aria-label="Toggle menu">
                <svg
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button> <!-- Menú Móvil -->
            <div id="mobileMenu" class="navbar__mobile-menu">
                <div class="navbar__mobile-content">
                    <div id="mobileUsername" class="navbar__mobile-username"></div>
                    <div class="navbar__mobile-links"><a href="/" class="navbar__mobile-link">Inicio</a>
                        <div id="mobileProfileLinks" class="navbar__mobile-profile-links"><a href="/game"
                                                                                             class="navbar__mobile-link">Clicker</a>
                            <a href="/ranking"
                               class="navbar__mobile-link">Ranking</a> <a href="/achievements"
                                                                          class="navbar__mobile-link">Logros</a> <a
                                href="/forum"
                                class="navbar__mobile-link">Foro</a> <a href="/profile"
                                                                        class="navbar__mobile-link">Perfil</a>
                            <button id="mobileLogout"
                                    class="navbar__mobile-link">Cerrar sesión
                            </button>
                        </div>
                        <div id="mobileAuthLinks" class="navbar__mobile-auth-links"><a href="/auth/login"
                                                                                       class="navbar__mobile-link">Iniciar
                            sesión</a> <a href="/auth/register"
                                          class="navbar__mobile-link">Registrarse</a></div>
                    </div>
                </div>
            </div>
            <div class="navbar__nav">
                <div class="navbar__links"><a href="/" class="navbar__link"> Inicio </a>
                    <div id="profileLink" class="navbar__profile-links"><a href="/game" class="navbar__link">
                        Clicker </a> <a href="/ranking" class="navbar__link"> Ranking </a> <a
                        href="/achievements" class="navbar__link"> Logros </a> <a href="/forum"
                                                                                  class="navbar__link"> Foro </a></div>
                    <div id="authLinks" class="navbar__auth-links">
                        <div id="loginRegisterLinks" class="navbar__auth-buttons"><a href="/auth/login"
                                                                                     class="navbar__link"> Iniciar
                            sesión </a> <a href="/auth/register"
                                           class="navbar__link"> Registrarse </a></div>
                        <div id="userMenu" class="navbar__user-menu">
                            <button id="userMenuButton"
                                    class="navbar__user-button"> <span id="navbarUsername"
                                                                       class="navbar__username"></span>
                                <svg class="navbar__dropdown-icon"
                                     xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                          d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                          clip-rule="evenodd"></path>
                                </svg>
                            </button>
                            <div id="userMenuDropdown" class="navbar__dropdown">
                                <div class="navbar__dropdown-menu" role="menu" aria-orientation="vertical"><a
                                    href="/profile" class="navbar__dropdown-item" role="menuitem">Perfil</a>
                                    <button id="logoutButton" class="navbar__dropdown-item" role="menuitem">
                                        Cerrar sesión
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="navbar__spacer"></div>
        </div>
    </div>
</nav> <!-- Modal de confirmación de cierre de sesión -->
<div id="logoutModal" class="modal">
    <div class="modal__content">
        <div class="modal__header">
            <h2 class="modal__title">Cerrar Sesión</h2>
            <button type="button" id="closeLogoutModal"
                    class="modal__close">&times;
            </button>
        </div>
        <div class="modal__body">
            <p>¿Estás seguro de que quieres cerrar sesión?</p>
        </div>
        <div class="modal__footer">
            <button type="button" id="cancelLogout"
                    class="modal__button modal__button--secondary">Cancelar
            </button>
            <button type="button"
                    id="confirmLogout" class="modal__button modal__button--danger">Cerrar Sesión
            </button>
        </div>
    </div>
</div>
<script
    type="module">if (typeof window < "u") {
    let _ = function () {
        const e = localStorage.getItem("user_session"), n = e ? JSON.parse(e) : null;
        n?.auth ? (c?.classList.add("navbar__profile-links--visible"), r?.classList.add("navbar__auth-buttons--hidden"), d?.classList.add("navbar__user-menu--visible"), g?.classList.add("navbar__mobile-profile-links--visible"), b?.classList.add("navbar__mobile-auth-links--hidden"), u && n.user?.player?.user_name && (u.textContent = n.user.player.user_name, m && (m.textContent = n.user.player.user_name))) : (c?.classList.remove("navbar__profile-links--visible"), r?.classList.remove("navbar__auth-buttons--hidden"), d?.classList.remove("navbar__user-menu--visible"), g?.classList.remove("navbar__mobile-profile-links--visible"), b?.classList.remove("navbar__mobile-auth-links--hidden")), l?.classList.add("navbar--visible")
    };
    const l = document.getElementById("navbar"), c = document.getElementById("profileLink"),
        r = document.getElementById("loginRegisterLinks"), d = document.getElementById("userMenu"),
        u = document.getElementById("navbarUsername"), i = document.getElementById("userMenuButton"),
        t = document.getElementById("userMenuDropdown"), y = document.getElementById("logoutButton"),
        s = document.getElementById("logoutModal"), f = document.getElementById("closeLogoutModal"),
        E = document.getElementById("cancelLogout"), B = document.getElementById("confirmLogout"),
        a = document.getElementById("hamburgerButton"), o = document.getElementById("mobileMenu"),
        m = document.getElementById("mobileUsername"), p = document.getElementById("mobileLogout"),
        g = document.getElementById("mobileProfileLinks"), b = document.getElementById("mobileAuthLinks");
    a?.addEventListener("click", () => {
        o?.classList.toggle("navbar__mobile-menu--active")
    }), document.addEventListener("click", e => {
        a && o && !a.contains(e.target) && !o.contains(e.target) && o.classList.remove("navbar__mobile-menu--active")
    }), i?.addEventListener("click", () => {
        if (t && l) {
            const e = i.getBoundingClientRect(), n = l.getBoundingClientRect();
            t.style.top = `${n.bottom}px`, t.style.left = `${e.left}px`, t.classList.toggle("navbar__dropdown--visible")
        }
    });
    const v = () => {
        s && (s.style.display = "flex", t?.classList.remove("navbar__dropdown--visible"), o?.classList.remove("navbar__mobile-menu--active"))
    };
    y?.addEventListener("click", v), p?.addEventListener("click", v), f?.addEventListener("click", () => {
        s && (s.style.display = "none")
    }), E?.addEventListener("click", () => {
        s && (s.style.display = "none")
    }), B?.addEventListener("click", () => {
        window.location.href = "/auth/logout"
    }), document.addEventListener("click", e => {
        i && t && !i.contains(e.target) && !t.contains(e.target) && t.classList.remove("navbar__dropdown--visible")
    });
    const L = localStorage.getItem("user_session");
    if (L) {
        const e = JSON.parse(L);
        new Date().getTime() - e.timestamp > 72e5 && localStorage.removeItem("user_session")
    }
    _()
}</script>
<main class="flex-grow w-full max-w-[1920px] mx-auto">
    <div class="min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div>
                <h2 class="mt-6 text-center text-3xl font-extrabold text-white">
                    Cerrando sesión...
                </h2>
            </div>
        </div>
    </div>
</main>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__grid"> <!-- Contact Information -->
            <div class="footer__section">
                <h3 class="footer__title">Contacto</h3>
                <div class="footer__content">
                    <p class="footer__contact-item">
                        <svg xmlns="http://www.w3.org/2000/svg" class="footer__icon"
                             fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                            </path>
                        </svg>
                        <span>jaolivacortes@gmail.com</span></p>
                    <p class="footer__contact-item">
                        <svg xmlns="http://www.w3.org/2000/svg" class="footer__icon"
                             fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                            </path>
                        </svg>
                        <span>666 555 777</span></p>
                    <p class="footer__contact-item">
                        <svg xmlns="http://www.w3.org/2000/svg" class="footer__icon"
                             fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                            </path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span>Av. Fuente del Maestre, 78, 06300 Zafra, Badajoz</span></p>
                </div>
            </div> <!-- Social Media -->
            <div class="footer__section">
                <h3 class="footer__title">Síguenos</h3>
                <div class="footer__social-links"><a href="#" class="footer__social-link">
                    <svg
                        class="footer__social-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z">
                        </path>
                    </svg>
                </a> <a href="#" class="footer__social-link">
                    <svg class="footer__social-icon"
                         fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z">
                        </path>
                    </svg>
                </a></div>
                <div class="footer__join"><a href="#" class="footer__join-link">
                    <svg class="footer__join-icon"
                         fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z">
                        </path>
                    </svg>
                    <span>Únete a nuestro Discord</span> </a></div>
            </div> <!-- About Us -->
            <div class="footer__section">
                <h3 class="footer__title">Sobre Nosotros</h3>
                <div class="footer__content">
                    <p class="footer__text">
                        Clicker Empire es un juego de estrategia y gestión donde podrás construir tu propio imperio
                        de olivas.
                        Desarrollado como proyecto final, combina diversión y aprendizaje en una experiencia única.
                    </p>
                </div>
            </div>
        </div> <!-- Copyright -->
        <div class="footer__copyright">
            <p>&copy; 2025 Clicker Empire. Todos los derechos reservados.</p>
        </div>
    </div>
</footer>
<script src="/js/config.js"></script>
<script
    type="module">if (typeof window < "u") {
    let e = function () {
        const s = localStorage.getItem("user_session");
        if (!s) return;
        const n = JSON.parse(s);
        new Date().getTime() - n.timestamp > t && localStorage.removeItem("user_session")
    };
    const t = 72e5;
    e(), setInterval(e, 3e5)
}</script>
</body>


</html>
<script
    type="module">async function r() {
    try {
        const e = await fetch(`${config.apiUrl}/api/csrf-token`, {
            method: "GET",
            credentials: "include",
            headers: {Accept: "application/json", "Content-Type": "application/json"}
        });
        if (!e.ok) throw new Error("Error al obtener el token CSRF");
        return (await e.json()).csrf_token
    } catch (e) {
        return console.error("Error al obtener el token CSRF:", e), null
    }
}

async function t() {
    try {
        const e = await r();
        if (!e) {
            console.error("Error al obtener el token de seguridad"), window.location.href = "/";
            return
        }
        (await fetch(`${config.apiUrl}/api/logout`, {
            method: "DELETE",
            headers: {
                "Content-Type": "application/json",
                Accept: "application/json",
                "X-CSRF-TOKEN": e,
                "X-Requested-With": "XMLHttpRequest"
            },
            credentials: "include"
        })).ok ? (localStorage.removeItem("user_session"), localStorage.removeItem("game"), window.location.href = "/") : (console.error("Error al cerrar sesión: respuesta no exitosa"), window.location.href = "/")
    } catch (e) {
        console.error("Error al cerrar sesión:", e), window.location.href = "/"
    }
}

typeof window < "u" && t();</script>




